<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta name="description" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!--[if lt IE 8]>
    <![endif]-->

    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="{{ url_for('static', filename='js/namespace.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static', filename='js/utils.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static', filename='js/models.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static', filename='js/views.js') }}" charset="utf-8"></script>

</head>
<body>
    <form action="" method="post" enctype="multipart/form-data">
        <input type="file" name="file" />
        <input type="submit" value="Upload" />
    </form>

    {% if data %}
    <svg width="100%" height="100%"></svg>

    <script type="text/javascript">
        var svg = d3.select('svg');

        var devs = {{ data.devs | tojson }};
        var replica2part2dev_id = {{ replica2part2dev_id | tojson }};
        var models = swiftsense.models.build_model(devs);
        var views = swiftsense.views.build_views(svg, models);

    </script>
    {% endif %}

</body>
</html>